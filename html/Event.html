<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML基础 - 事件 | Frontend Notes</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Just a personal frontend learning notes">
    
    <link rel="preload" href="./assets/css/0.styles.67c0caec.css" as="style"><link rel="preload" href="./assets/js/app.301adbdf.js" as="script"><link rel="preload" href="./assets/js/2.7fb28fc4.js" as="script"><link rel="preload" href="./assets/js/52.184180de.js" as="script"><link rel="prefetch" href="./assets/js/10.393a82e6.js"><link rel="prefetch" href="./assets/js/100.36b4eb22.js"><link rel="prefetch" href="./assets/js/101.7e32476c.js"><link rel="prefetch" href="./assets/js/102.c227106d.js"><link rel="prefetch" href="./assets/js/103.51fd0b41.js"><link rel="prefetch" href="./assets/js/104.9e06072e.js"><link rel="prefetch" href="./assets/js/105.f02e6f8c.js"><link rel="prefetch" href="./assets/js/106.0724879d.js"><link rel="prefetch" href="./assets/js/107.b73dfee4.js"><link rel="prefetch" href="./assets/js/108.be158062.js"><link rel="prefetch" href="./assets/js/109.b21635db.js"><link rel="prefetch" href="./assets/js/11.16a18534.js"><link rel="prefetch" href="./assets/js/110.959e2e8c.js"><link rel="prefetch" href="./assets/js/111.ae2f3a1f.js"><link rel="prefetch" href="./assets/js/112.ccead8c7.js"><link rel="prefetch" href="./assets/js/113.d8ba2c03.js"><link rel="prefetch" href="./assets/js/114.224cd4ad.js"><link rel="prefetch" href="./assets/js/115.34f53ac5.js"><link rel="prefetch" href="./assets/js/116.1640dc3d.js"><link rel="prefetch" href="./assets/js/117.c6de2cf5.js"><link rel="prefetch" href="./assets/js/118.cbd9533a.js"><link rel="prefetch" href="./assets/js/119.f26bfa74.js"><link rel="prefetch" href="./assets/js/12.7b4aa9e8.js"><link rel="prefetch" href="./assets/js/120.662ca9d9.js"><link rel="prefetch" href="./assets/js/121.70ec18d8.js"><link rel="prefetch" href="./assets/js/122.9b38ea16.js"><link rel="prefetch" href="./assets/js/123.ddbfda3b.js"><link rel="prefetch" href="./assets/js/124.2daf2d29.js"><link rel="prefetch" href="./assets/js/125.d8e562e8.js"><link rel="prefetch" href="./assets/js/126.19d46aba.js"><link rel="prefetch" href="./assets/js/127.9a3a0a00.js"><link rel="prefetch" href="./assets/js/13.d4c3efcc.js"><link rel="prefetch" href="./assets/js/14.834a57c4.js"><link rel="prefetch" href="./assets/js/15.b9d97d3f.js"><link rel="prefetch" href="./assets/js/16.532a9885.js"><link rel="prefetch" href="./assets/js/17.ddd110a9.js"><link rel="prefetch" href="./assets/js/18.c95b4d51.js"><link rel="prefetch" href="./assets/js/19.7bbf10cc.js"><link rel="prefetch" href="./assets/js/20.41296d5d.js"><link rel="prefetch" href="./assets/js/21.6385747f.js"><link rel="prefetch" href="./assets/js/22.1eb28bdd.js"><link rel="prefetch" href="./assets/js/23.802e32f3.js"><link rel="prefetch" href="./assets/js/24.c814c70c.js"><link rel="prefetch" href="./assets/js/25.17b13a48.js"><link rel="prefetch" href="./assets/js/26.41c698df.js"><link rel="prefetch" href="./assets/js/27.a1eb7398.js"><link rel="prefetch" href="./assets/js/28.1c4bc9ba.js"><link rel="prefetch" href="./assets/js/29.d50b40f4.js"><link rel="prefetch" href="./assets/js/3.62788466.js"><link rel="prefetch" href="./assets/js/30.b281b6c3.js"><link rel="prefetch" href="./assets/js/31.2cf82ae0.js"><link rel="prefetch" href="./assets/js/32.781a3211.js"><link rel="prefetch" href="./assets/js/33.d287edf9.js"><link rel="prefetch" href="./assets/js/34.a49959e6.js"><link rel="prefetch" href="./assets/js/35.506c14a9.js"><link rel="prefetch" href="./assets/js/36.dfa3607e.js"><link rel="prefetch" href="./assets/js/37.caf59a31.js"><link rel="prefetch" href="./assets/js/38.724c3ba6.js"><link rel="prefetch" href="./assets/js/39.caf8f090.js"><link rel="prefetch" href="./assets/js/4.24597237.js"><link rel="prefetch" href="./assets/js/40.b802c84d.js"><link rel="prefetch" href="./assets/js/41.afa27e65.js"><link rel="prefetch" href="./assets/js/42.e1860fac.js"><link rel="prefetch" href="./assets/js/43.1cfc5eee.js"><link rel="prefetch" href="./assets/js/44.d92dd569.js"><link rel="prefetch" href="./assets/js/45.5d39422d.js"><link rel="prefetch" href="./assets/js/46.6951f329.js"><link rel="prefetch" href="./assets/js/47.28f5456f.js"><link rel="prefetch" href="./assets/js/48.67fbf900.js"><link rel="prefetch" href="./assets/js/49.6aeb715f.js"><link rel="prefetch" href="./assets/js/5.b6b1f0df.js"><link rel="prefetch" href="./assets/js/50.0c6d955c.js"><link rel="prefetch" href="./assets/js/51.f02005b2.js"><link rel="prefetch" href="./assets/js/53.717d52a8.js"><link rel="prefetch" href="./assets/js/54.38f73799.js"><link rel="prefetch" href="./assets/js/55.d0243add.js"><link rel="prefetch" href="./assets/js/56.42188a7d.js"><link rel="prefetch" href="./assets/js/57.34d9277a.js"><link rel="prefetch" href="./assets/js/58.e1730470.js"><link rel="prefetch" href="./assets/js/59.e11bf595.js"><link rel="prefetch" href="./assets/js/6.919ce8c7.js"><link rel="prefetch" href="./assets/js/60.8100013b.js"><link rel="prefetch" href="./assets/js/61.acf09925.js"><link rel="prefetch" href="./assets/js/62.628da4e2.js"><link rel="prefetch" href="./assets/js/63.fa970fcd.js"><link rel="prefetch" href="./assets/js/64.da976388.js"><link rel="prefetch" href="./assets/js/65.10fbcea2.js"><link rel="prefetch" href="./assets/js/66.9346a5b9.js"><link rel="prefetch" href="./assets/js/67.b41b6808.js"><link rel="prefetch" href="./assets/js/68.1d63883e.js"><link rel="prefetch" href="./assets/js/69.75402122.js"><link rel="prefetch" href="./assets/js/7.84f2f586.js"><link rel="prefetch" href="./assets/js/70.9bc79ff2.js"><link rel="prefetch" href="./assets/js/71.e05b98f3.js"><link rel="prefetch" href="./assets/js/72.8491506f.js"><link rel="prefetch" href="./assets/js/73.53178297.js"><link rel="prefetch" href="./assets/js/74.21381104.js"><link rel="prefetch" href="./assets/js/75.5254f23e.js"><link rel="prefetch" href="./assets/js/76.afd34e15.js"><link rel="prefetch" href="./assets/js/77.c2e73429.js"><link rel="prefetch" href="./assets/js/78.7472b57b.js"><link rel="prefetch" href="./assets/js/79.b85bf3f8.js"><link rel="prefetch" href="./assets/js/8.57ea4c92.js"><link rel="prefetch" href="./assets/js/80.16084d0c.js"><link rel="prefetch" href="./assets/js/81.311d491f.js"><link rel="prefetch" href="./assets/js/82.14cb512f.js"><link rel="prefetch" href="./assets/js/83.d04fee8e.js"><link rel="prefetch" href="./assets/js/84.83402688.js"><link rel="prefetch" href="./assets/js/85.f9c400ea.js"><link rel="prefetch" href="./assets/js/86.e3aa2d2d.js"><link rel="prefetch" href="./assets/js/87.4b423be7.js"><link rel="prefetch" href="./assets/js/88.969a7e18.js"><link rel="prefetch" href="./assets/js/89.0838b414.js"><link rel="prefetch" href="./assets/js/9.3369e18d.js"><link rel="prefetch" href="./assets/js/90.10e7d84d.js"><link rel="prefetch" href="./assets/js/91.88c5e6f1.js"><link rel="prefetch" href="./assets/js/92.06ea8288.js"><link rel="prefetch" href="./assets/js/93.e2f8685b.js"><link rel="prefetch" href="./assets/js/94.a7d53c5a.js"><link rel="prefetch" href="./assets/js/95.81a8214d.js"><link rel="prefetch" href="./assets/js/96.1df504c4.js"><link rel="prefetch" href="./assets/js/97.785b9add.js"><link rel="prefetch" href="./assets/js/98.2a9eca43.js"><link rel="prefetch" href="./assets/js/99.b522ca2b.js">
    <link rel="stylesheet" href="./assets/css/0.styles.67c0caec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">Frontend Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Browser</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Html</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./html/AddEventListener.html" class="sidebar-link">为标签添加事件监听器</a></li><li><a href="/./html/BOM.html" class="sidebar-link">JavaScript基础 - BOM</a></li><li><a href="/./html/DOM.html" class="sidebar-link">HTML基础 - DOM</a></li><li><a href="/./html/Data_Attr.html" class="sidebar-link">HTML 的 data-* 属性</a></li><li><a href="/./html/Element.html" class="sidebar-link">DOM 元素 - Element 对象</a></li><li><a href="/./html/Event.html" aria-current="page" class="active sidebar-link">HTML基础 - 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./html/Event.html#事件冒泡" class="sidebar-link">事件冒泡</a></li><li class="sidebar-sub-header"><a href="/./html/Event.html#事件捕获" class="sidebar-link">事件捕获</a></li><li class="sidebar-sub-header"><a href="/./html/Event.html#addeventlistener" class="sidebar-link">addEventListener</a></li><li class="sidebar-sub-header"><a href="/./html/Event.html#处理事件" class="sidebar-link">处理事件</a></li><li class="sidebar-sub-header"><a href="/./html/Event.html#常见事件" class="sidebar-link">常见事件</a></li></ul></li><li><a href="/./html/Event_Delegation.html" class="sidebar-link">事件委托</a></li><li><a href="/./html/Link_Tag.html" class="sidebar-link">HTML - &lt;link&gt; 标签</a></li><li><a href="/./html/Meta_Tag.html" class="sidebar-link">HTML 基础 - &lt;meta&gt; 标签</a></li><li><a href="/./html/Query_Selector.html" class="sidebar-link">HTML &amp; JS - DOM 操作</a></li><li><a href="/./html/Script_Tag.html" class="sidebar-link">&lt;script&gt;标签</a></li><li><a href="/./html/Semantic_Tag.html" class="sidebar-link">HTML基础 - 语义化标签</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mobile</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tricks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html基础-事件"><a href="#html基础-事件" class="header-anchor">#</a> HTML基础 - 事件</h1> <p>JavaScript 与 HTML 的交互是通过事件实现的，事件代表文档或浏览器窗口中某个有意义的时刻。</p> <p>事件流描述了页面接收事件的顺序。</p> <h2 id="事件冒泡"><a href="#事件冒泡" class="header-anchor">#</a> 事件冒泡</h2> <p>IE 事件流被称为事件冒泡。</p> <p>事件被定义为从最具体的元素(文档树中最深的节点)开始触发，然后向上传播至没有那么具体的元素(文档)。
举例如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Event Bubbling Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>点击<code>&lt;div&gt;</code>元素后，click事件按如下顺序发生：</p> <ol><li><code>&lt;div&gt;</code></li> <li><code>&lt;body&gt;</code></li> <li><code>&lt;html&gt;</code></li> <li><code>document</code></li></ol> <p>现代浏览器中的事件会一直冒泡到 window 对象。</p> <h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="header-anchor">#</a> 阻止事件冒泡</h3> <ol><li><p>给子级加 <code>event.stopPropagation()</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mousedown</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> e <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>在事件处理函数中返回 false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mousedown</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <p>这两种方式的区别：</p> <ul><li><code>return false</code> 不仅阻止了事件往上冒泡，而且阻止了事件本身(默认事件)。</li> <li>event.stopPropagation()则只阻止事件往上冒泡，不阻止事件本身。</li></ul> <ol start="3"><li><code>event.target == event.currentTarget</code></li></ol> <p>让触发事件的元素等于绑定事件的元素，也可以阻止事件冒泡；</p> <h2 id="事件捕获"><a href="#事件捕获" class="header-anchor">#</a> 事件捕获</h2> <p>网景（Netscape Communicator）团队提出了另一种名为事件捕获的事件流。</p> <p>这里的顺序和事件冒泡相反。如上例中的HTML，点击<code>&lt;div&gt;</code>后，事件发生顺序如下：</p> <ol><li><code>document</code></li> <li><code>&lt;html&gt;</code></li> <li><code>&lt;body&gt;</code></li> <li><code>&lt;div&gt;</code></li></ol> <h2 id="addeventlistener"><a href="#addeventlistener" class="header-anchor">#</a> <code>addEventListener</code></h2> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>useCapture</code>代表是否使用事件捕获，默认为<code>false</code>，即使用事件冒泡模型。</p> <h2 id="处理事件"><a href="#处理事件" class="header-anchor">#</a> 处理事件</h2> <h3 id="添加事件回调"><a href="#添加事件回调" class="header-anchor">#</a> 添加事件回调</h3> <ol><li><p>以HTML属性形式指定</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Clicked'</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>或者传入其他地方定义的脚本</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>（DOM0方式）每个元素(包括 window 和 document)都有通常小写的事件处理程序属性，比如 onclick。只要把这个属性赋值为一个函数即可:
事件处理程 序会在元素的作用域中运行，即 this 等于元素</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// myBtn</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>（DOM2方式）<code>addEventListener()</code> 和 <code>removeEventListener()</code>。
它们接收 3 个参数:事件名、事件处理函 数和一个布尔值，true 表示在捕获阶段调用事件处理程序，false(默认值)表示在冒泡阶段调用事件处理程序。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过 addEventListener()添加的事件处理程序只能使用 removeEventListener()并传入与添加时同样的参数来移除。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></li></ol> <h3 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h3> <p>event 对象是传给事件回调的唯一参数，不管用是 DOM0 还是 DOM2 方式绑定的。</p> <h4 id="dom事件对象"><a href="#dom事件对象" class="header-anchor">#</a> DOM事件对象</h4> <p>event 对象是传给事件处理程序的唯一参数。示例如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;click&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;click&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在通过 HTML 属性指定的事件处理程序中，同样可以使用变量 event 引用事件对象。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="ie-事件对象"><a href="#ie-事件对象" class="header-anchor">#</a> IE 事件对象</h4> <p>如果 事件处理程序是使用 DOM0 方式指定的，则 event 对象只是 window 对象的一个属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> event <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;click&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="target-和-currenttarget"><a href="#target-和-currenttarget" class="header-anchor">#</a> target 和 currentTarget</h4> <p>在事件回调内部， this 对象始终等于 currentTarget，而 target 只包含事件的实际目标。</p> <p>当事件冒泡到外部时，currentTarget 会随之变化，而 target 不会，示例如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentTarget: &quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;target: &quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;inner&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 点击内部的 `div#inner` 后，输出如下：</span>
<span class="token comment">// currentTarget: inner</span>
<span class="token comment">// target: inner</span>

<span class="token comment">// currentTarget: middle</span>
<span class="token comment">// target: inner</span>
</code></pre></div><h2 id="常见事件"><a href="#常见事件" class="header-anchor">#</a> 常见事件</h2> <p>DOM3 Events 定义了如下事件类型。</p> <ul><li>用户界面事件(UIEvent): 涉及与 BOM 交互的通用浏览器事件。</li> <li>焦点事件(FocusEvent): 在元素获得和失去焦点时触发。</li> <li>鼠标事件(MouseEvent): 使用鼠标在页面上执行某些操作时触发。</li> <li>滚轮事件(WheelEvent): 使用鼠标滚轮(或类似设备)时触发。</li> <li>输入事件(InputEvent): 向文档中输入文本时触发。</li> <li>键盘事件(KeyboardEvent): 使用键盘在页面上执行某些操作时触发</li> <li>合成事件(CompositionEvent): 在使用某种 IME(Input Method Editor，输入法编辑器)输入字符时触发。</li></ul> <h3 id="用户界面事件"><a href="#用户界面事件" class="header-anchor">#</a> 用户界面事件</h3> <h4 id="load"><a href="#load" class="header-anchor">#</a> load</h4> <p>在 window 对象上，load 事件会在整个页面(包括所有外部资源如图片、JavaScript 文件和 CSS 文件)加载完成后触发。</p> <p>用法参见<a href="/./browser/Load_Event.html">加载事件</a></p> <h4 id="unload"><a href="#unload" class="header-anchor">#</a> unload</h4> <p>与 load 事件相对的是 unload 事件，unload 事件会在文档卸载完成后触发。</p> <p>unload 事件一般是 在从一个页面导航到另一个页面时触发，最常用于清理引用，以避免内存泄漏。用法同 load 事件</p> <h4 id="resize"><a href="#resize" class="header-anchor">#</a> resize</h4> <p>当浏览器窗口被缩放到新高度或宽度时，会触发 resize 事件。这个事件在 window 上触发，因此 可以通过 window 上添加事件监听回调，或者为<code>&lt;body&gt;</code>元素添加 <code>onresize</code> 属性来指定事件处理程序。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Resized&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="scroll"><a href="#scroll" class="header-anchor">#</a> scroll</h4> <p>scroll 事件发生在 window 上，反映的是页面中相应元素的变化。</p> <h3 id="焦点事件"><a href="#焦点事件" class="header-anchor">#</a> 焦点事件</h3> <p>当焦点从页面中的一个元素移到另一个元素上时，会依次发生如下事件。</p> <ol><li>focuscout 在失去焦点的元素上触发。</li> <li>focusin 在获得焦点的元素上触发。</li> <li>blur 在失去焦点的元素上触发。</li> <li>DOMFocusOut 在失去焦点的元素上触发。</li> <li>focus 在获得焦点的元素上触发。</li> <li>DOMFocusIn 在获得焦点的元素上触发。</li></ol> <p>其中，blur、DOMFocusOut 和 focusout 的事件目标是失去焦点的元素，而focus、DOMFocusIn 和 focusin 的事件目标是获得焦点的元素。</p> <h3 id="鼠标和滚轮事件"><a href="#鼠标和滚轮事件" class="header-anchor">#</a> 鼠标和滚轮事件</h3> <h4 id="click"><a href="#click" class="header-anchor">#</a> click</h4> <p>在用户单击鼠标主键(通常是左键)或按键盘回车键时触发。这主要是基于无障碍的考虑，让键盘和鼠标都可以触发 onclick 事件处理程序。</p> <p>对于一次点击，以下事件会按顺序触发</p> <ol><li>mousedown</li> <li>mouseup</li> <li>click</li></ol> <p>click 事件触发的前提是 mousedown 事件触发后，紧接着又在同一个元素上触发了 mouseup 事件。如果 mousedown 和 mouseup 中的任意一个事件被取消，那么 click 事件就不会触发。</p> <h4 id="dbclick"><a href="#dbclick" class="header-anchor">#</a> dbclick</h4> <p>鼠标双击事件，以下时间会按顺序触发。</p> <ol><li>mousedown</li> <li>mouseup</li> <li>click</li> <li>mousedown</li> <li>mouseup</li> <li>click</li> <li>dblclick</li></ol> <h4 id="触摸屏上的鼠标事件"><a href="#触摸屏上的鼠标事件" class="header-anchor">#</a> 触摸屏上的鼠标事件</h4> <p>对于触摸屏设备（iOS 和 Android）有以下不同点：</p> <ol><li>不支持 dblclick 事件。双击浏览器窗口可以放大，但没有办法覆盖这个行为。</li> <li>单指点触屏幕上的可点击元素会触发 mousemove 事件。
<ol><li>如果操作会导致内容变化，则不会再触发其他事件。</li> <li>如果屏幕上没有变化，则会相继触发 mousedown、mouseup 和 click 事件。</li> <li>点触不可点击的元素不会触发事件。可点击元素是指点击时有默认动作的元素(如链接)或指定了 onclick 事件处理程序的元素。</li></ol></li> <li>mousemove 事件也会触发 mouseover 和 mouseout 事件。</li> <li>双指点触屏幕并滑动导致页面滚动时会触发 mousewheel 和 scroll 事件。</li></ol> <h3 id="键盘与输入事件"><a href="#键盘与输入事件" class="header-anchor">#</a> 键盘与输入事件</h3> <p>键盘事件包含 3 个事件:</p> <ul><li>keydown，用户按下键盘上某个键时触发，而且持续按住会重复触发。</li> <li>keypress，用户按下键盘上某个键并产生字符时触发，而且持续按住会重复触发。Esc 键也会触发这个事件。
<ul><li>DOM3 Events 废弃了 keypress 事件，而推荐 textInput 事件。</li></ul></li> <li>keyup，用户释放键盘上某个键时触发。</li></ul> <p>对于 keydown 和 keyup 事件，event 对象的 keyCode 属性中会保存一个键码，对应键盘上特定 的一个键。示例如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> textbox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myText&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="textinput"><a href="#textinput" class="header-anchor">#</a> textInput</h4> <p>DOM3 Events 规范增加了一个名为 textInput 的事件，其在字符被输入到可编辑区域时触发。</p> <p>作为对 keypress 的替代，textInput 事件的行为有些不一样。</p> <p>一个区别是 keypress 会在任何可以获得焦点的元素上触发，而 textInput 只在可编辑区域上触发。</p> <p>另一个区别是 textInput 只在有新字符被插入时才会触发，而 keypress 对任何可能影响文本的键都会触发(包括退格键)。</p> <h3 id="合成事件"><a href="#合成事件" class="header-anchor">#</a> 合成事件</h3> <p>合成事件是 DOM3 Events 中新增的，用于处理通常使用 IME 输入时的复杂输入序列</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./html/Element.html" class="prev">
        DOM 元素 - Element 对象
      </a></span> <span class="next"><a href="/./html/Event_Delegation.html">
        事件委托
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.301adbdf.js" defer></script><script src="./assets/js/2.7fb28fc4.js" defer></script><script src="./assets/js/52.184180de.js" defer></script>
  </body>
</html>
